What is the reason for Hamas's surprise attack on Israel and why is it considered an intelligence failure for Israel?

At 2023-oct-07, hamas's surprise attack on Israel is considered an intelligence failure for Israel because Israel's surveillance technology industry is among the most advanced in the world, yet Hamas's preparations were missed. The attack was planned with a level of operational security unprecedented in previous rounds of fighting, and potential preparations were missed, including planning, stockpiling, and in the immediate run-up to the Hamas offensive.