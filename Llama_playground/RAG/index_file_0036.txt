What sparked the protests in Iran and how did the regime respond to them?

At 2024-apr-30, the protests in Iran were sparked by the death of Mahsa Amini in custody in September 2022, who was detained by the "morality police" for "improper hijab". The regime responded with predictable fury, killing hundreds and arresting thousands, and is now trying to redraw the boundaries with harsh "hijab and chastity" legislation.