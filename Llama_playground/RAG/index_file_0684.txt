What are the laws of war, and how have they been violated by Hamas and Israel during the conflict in Gaza?

At 2023-oct-18, the laws of war are principles that have been established to prevent the strong from oppressing the weak. During the conflict in Gaza, both Hamas and Israel have violated these laws by engaging in indiscriminate attacks, collective punishment, and other crimes against humanity.